{"contentType":"application/gliffy+json","version":"1.1","metadata":{"title":"untitled","revision":0,"exportBorder":false},"embeddedResources":{"index":0,"resources":[]},"stage":{"objects":[{"x":319,"y":1596,"rotation":0,"id":388,"uid":"com.gliffy.shape.basic.basic_v1.default.line","width":100,"height":100,"lockAspectRatio":false,"lockShape":false,"order":120,"graphic":{"type":"Line","Line":{"strokeWidth":2,"strokeColor":"#60327C","fillColor":"none","dashStyle":"8.0,2.0","startArrow":0,"endArrow":1,"startArrowRotation":"auto","endArrowRotation":"auto","ortho":false,"interpolationType":"linear","cornerRadius":null,"controlPath":[[-5.684341886080802e-14,35.99023657421844],[0,87.20665112249185]],"lockSegments":{}}},"children":[{"x":0,"y":0,"rotation":0,"id":389,"uid":null,"width":104,"height":14,"lockAspectRatio":false,"lockShape":false,"order":"auto","graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"both","vposition":"none","hposition":"none","html":"<p style=\"text-align:center;\"><span style=\"font-size: 12px; font-family: Arial; color: rgb(255, 0, 0); white-space: pre-wrap; line-height: 14px;\">加载,创建,onCreate</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null}],"linkMap":[]},{"x":513,"y":1570,"rotation":0,"id":386,"uid":"com.gliffy.shape.basic.basic_v1.default.text","width":210,"height":42,"lockAspectRatio":false,"lockShape":false,"order":119,"graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:left;\"><span style=\"font-size: 12px; font-family: Arial; color: rgb(255, 0, 0); white-space: pre-wrap; line-height: 14px;\">这里就远程调用请求创建Service组件了。app为ProcessRecord类型，r为ServiceRecord类型。</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null,"linkMap":[]},{"x":450,"y":1187,"rotation":0,"id":384,"uid":"com.gliffy.shape.basic.basic_v1.default.text","width":69,"height":14,"lockAspectRatio":false,"lockShape":false,"order":118,"graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:left;\"><span style=\"font-size: 12px; font-family: Arial; color: rgb(255, 0, 0); white-space: pre-wrap; line-height: 14px;\">system进程</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null,"linkMap":[]},{"x":141,"y":1187,"rotation":0,"id":383,"uid":"com.gliffy.shape.basic.basic_v1.default.text","width":50,"height":14,"lockAspectRatio":false,"lockShape":false,"order":117,"graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:left;\"><span style=\"font-size: 12px; font-family: Arial; color: rgb(255, 0, 0); white-space: pre-wrap; line-height: 14px;\">新进程</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null,"linkMap":[]},{"x":237,"y":1399,"rotation":0,"id":378,"uid":"com.gliffy.shape.basic.basic_v1.default.text","width":180,"height":28,"lockAspectRatio":false,"lockShape":false,"order":114,"graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:center;\"><span style=\"font-size: 12px; font-family: Arial; color: rgb(39, 78, 19); white-space: pre-wrap; line-height: 14px;\">ApplicationThread mAppThread为ActivityThread的成员变量</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null,"linkMap":[]},{"x":541,"y":1500,"rotation":0,"id":376,"uid":"com.gliffy.shape.basic.basic_v1.default.text","width":150,"height":28,"lockAspectRatio":false,"lockShape":false,"order":113,"graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:center;\"><span style=\"font-size: 12px; font-family: Arial; color: rgb(39, 78, 19); white-space: pre-wrap; line-height: 14px;\">通过uid和进程名称将之前mPendingServices找出来</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null,"linkMap":[]},{"x":504,"y":1413,"rotation":0,"id":373,"uid":"com.gliffy.shape.basic.basic_v1.default.text","width":230,"height":42,"lockAspectRatio":false,"lockShape":false,"order":110,"graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:left;\"><span style=\"font-size: 12px; font-family: Arial; color: rgb(255, 0, 0); white-space: pre-wrap; line-height: 14px;\">存起pid,判断来源的时候会用，这里也就得到了ApplicationThread的远程引用。存在ProcessRecord里</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null,"linkMap":[]},{"x":289,"y":1060,"rotation":0,"id":371,"uid":"com.gliffy.shape.basic.basic_v1.default.text","width":80,"height":14,"lockAspectRatio":false,"lockShape":false,"order":109,"graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:center;\"><span style=\"font-size: 12px; font-family: Arial; color: rgb(255, 0, 0); white-space: pre-wrap; line-height: 14px;\">得到pid</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null,"linkMap":[]},{"x":552,"y":1112,"rotation":0,"id":347,"uid":"com.gliffy.shape.basic.basic_v1.default.text","width":130,"height":28,"lockAspectRatio":false,"lockShape":false,"order":87,"graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:center;\"><span style=\"font-size: 12px; font-family: Arial; color: rgb(204, 0, 0); white-space: pre-wrap; line-height: 14px;\">启动一个新进程，具体过程见启动新进程章节</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null,"linkMap":[]},{"x":612,"y":995,"rotation":0,"id":341,"uid":"com.gliffy.shape.basic.basic_v1.default.line","width":100,"height":100,"lockAspectRatio":false,"lockShape":false,"order":81,"graphic":{"type":"Line","Line":{"strokeWidth":2,"strokeColor":"#60327C","fillColor":"none","dashStyle":null,"startArrow":0,"endArrow":1,"startArrowRotation":"auto","endArrowRotation":"auto","ortho":false,"interpolationType":"linear","cornerRadius":null,"controlPath":[[0,0],[0,49.091750834534196]],"lockSegments":{}}},"children":[{"x":0,"y":0,"rotation":0,"id":342,"uid":null,"width":24,"height":14,"lockAspectRatio":false,"lockShape":false,"order":"auto","graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"both","vposition":"none","hposition":"none","html":"<p style=\"text-align:center;\"><span style=\"font-size: 12px; font-family: Arial; white-space: pre-wrap; font-weight: bold; line-height: 14px; color: rgb(0, 0, 0);\">……</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null}],"linkMap":[]},{"x":277,"y":920,"rotation":0,"id":328,"uid":"com.gliffy.shape.basic.basic_v1.default.text","width":100,"height":32,"lockAspectRatio":false,"lockShape":false,"order":74,"graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:left;\"><span style=\"font-size: 14px; font-family: Arial; color: rgb(255, 0, 0); white-space: pre-wrap; line-height: 16.5px;\">经过binder驱动</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null,"linkMap":[]},{"x":250,"y":990,"rotation":0,"id":325,"uid":"com.gliffy.shape.basic.basic_v1.default.text","width":150,"height":56,"lockAspectRatio":false,"lockShape":false,"order":73,"graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:left;\"><span style=\"font-size: 12px; font-family: Arial; color: rgb(39, 78, 19); white-space: pre-wrap; line-height: 14px;\">传入的Parcel参数有\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 12px; font-family: Arial; color: rgb(39, 78, 19); white-space: pre-wrap; line-height: 14px;\">IApplicationThread caller\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 12px; font-family: Arial; color: rgb(39, 78, 19); white-space: pre-wrap; line-height: 14px;\">Intent service\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 12px; font-family: Arial; color: rgb(39, 78, 19); white-space: pre-wrap; line-height: 14px;\">int useId</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null,"linkMap":[]},{"x":166,"y":973,"rotation":0,"id":322,"uid":"com.gliffy.shape.basic.basic_v1.default.line","width":100,"height":100,"lockAspectRatio":false,"lockShape":false,"order":71,"graphic":{"type":"Line","Line":{"strokeWidth":2,"strokeColor":"#60327C","fillColor":"none","dashStyle":null,"startArrow":0,"endArrow":1,"startArrowRotation":"auto","endArrowRotation":"auto","ortho":false,"interpolationType":"linear","cornerRadius":null,"controlPath":[[0,0],[299,0]],"lockSegments":{}}},"children":[{"x":0,"y":0,"rotation":0,"id":324,"uid":null,"width":63,"height":14,"lockAspectRatio":false,"lockShape":false,"order":"auto","graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"both","vposition":"none","hposition":"none","html":"<p style=\"text-align:center;\"><span style=\"font-size: 12px; font-family: Arial; white-space: pre-wrap; line-height: 14px; color: rgb(0, 0, 0);\">startService</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null}],"linkMap":[]},{"x":67,"y":250,"rotation":0,"id":311,"uid":"com.gliffy.shape.basic.basic_v1.default.text","width":30,"height":120,"lockAspectRatio":false,"lockShape":false,"order":62,"graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:center;\"><span style=\"font-size: 18px; font-family: Arial; color: rgb(255, 0, 255); white-space: pre-wrap; line-height: 20.5px;\">前 情 概 要</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null,"linkMap":[]},{"x":560,"y":650,"rotation":0,"id":309,"uid":"com.gliffy.shape.basic.basic_v1.default.text","width":90,"height":20,"lockAspectRatio":false,"lockShape":false,"order":61,"graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:center;\"><span style=\"font-size: 12px; font-family: Arial; color: rgb(255, 0, 0); white-space: pre-wrap; line-height: 14px;\">在SM中注册</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null,"linkMap":[]},{"x":1376,"y":587,"rotation":0,"id":303,"uid":"com.gliffy.shape.basic.basic_v1.default.line","width":100,"height":100,"lockAspectRatio":false,"lockShape":false,"order":57,"graphic":{"type":"Line","Line":{"strokeWidth":2,"strokeColor":"#60327C","fillColor":"none","dashStyle":null,"startArrow":0,"endArrow":1,"startArrowRotation":"auto","endArrowRotation":"auto","ortho":false,"interpolationType":"linear","cornerRadius":null,"controlPath":[[0,0],[0,51.244511901275814]],"lockSegments":{}}},"children":[{"x":0,"y":0,"rotation":0,"id":305,"uid":null,"width":24,"height":14,"lockAspectRatio":false,"lockShape":false,"order":"auto","graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"both","vposition":"none","hposition":"none","html":"<p style=\"text-align:center;\"><span style=\"font-size: 12px; font-family: Arial; white-space: pre-wrap; line-height: 14px; color: rgb(0, 0, 0);\">……</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null}],"linkMap":[]},{"x":1220,"y":342,"rotation":0,"id":290,"uid":"com.gliffy.shape.basic.basic_v1.default.line","width":100,"height":100,"lockAspectRatio":false,"lockShape":false,"order":46,"graphic":{"type":"Line","Line":{"strokeWidth":2,"strokeColor":"#60327C","fillColor":"none","dashStyle":"8.0,2.0","startArrow":0,"endArrow":1,"startArrowRotation":"auto","endArrowRotation":"auto","ortho":false,"interpolationType":"linear","cornerRadius":null,"controlPath":[[0,0],[0,259.06948874771024]],"lockSegments":{}}},"children":null,"linkMap":[]},{"x":883,"y":442,"rotation":0,"id":288,"uid":"com.gliffy.shape.basic.basic_v1.default.line","width":100,"height":100,"lockAspectRatio":false,"lockShape":false,"order":44,"graphic":{"type":"Line","Line":{"strokeWidth":2,"strokeColor":"#60327C","fillColor":"none","dashStyle":"8.0,2.0","startArrow":0,"endArrow":1,"startArrowRotation":"auto","endArrowRotation":"auto","ortho":false,"interpolationType":"linear","cornerRadius":null,"controlPath":[[0,0],[0,146]],"lockSegments":{}}},"children":[{"x":0,"y":0,"rotation":0,"id":289,"uid":null,"width":36,"height":14,"lockAspectRatio":false,"lockShape":false,"order":"auto","graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"both","vposition":"none","hposition":"none","html":"<p style=\"text-align:center;\"><span style=\"font-size: 12px; font-family: Arial; white-space: pre-wrap; line-height: 14px; color: rgb(0, 0, 0);\">线程流</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null}],"linkMap":[]},{"x":830,"y":150,"rotation":0,"id":277,"uid":"com.gliffy.shape.uml.uml_v1.default.note","width":390.00000000000006,"height":120,"lockAspectRatio":false,"lockShape":false,"order":38,"graphic":{"type":"Shape","Shape":{"tid":"com.gliffy.stencil.note.uml_v1","strokeWidth":1,"strokeColor":"#000000","fillColor":"#FFFFFF","gradient":false,"dropShadow":false,"state":0,"shadowX":0,"shadowY":0,"opacity":1}},"children":[{"x":7.799999999999996,"y":0,"rotation":0,"id":279,"uid":null,"width":374.4000000000001,"height":84,"lockAspectRatio":false,"lockShape":false,"order":"auto","graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:left;\"><span style=\"font-size: 12px; font-family: Arial; color: rgb(56, 118, 29); white-space: pre-wrap; line-height: 14px;\"> WatchDog(看门狗)，\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 12px; font-family: Arial; color: rgb(56, 118, 29); white-space: pre-wrap; line-height: 14px;\">作用：检测系统的一些关键服务是否发生死锁的。\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 12px; font-family: Arial; color: rgb(56, 118, 29); white-space: pre-wrap; line-height: 14px; text-decoration: none;\">\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 12px; font-family: Arial; color: rgb(56, 118, 29); white-space: pre-wrap; line-height: 14px;\">方式：通过HeartbeatHandler向ServerThread丢心跳\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 12px; font-family: Arial; color: rgb(56, 118, 29); white-space: pre-wrap; line-height: 14px;\">收到心跳后，执行被检查服务的 void monitor(){ synchronized (this) {}},尝试拿锁。拿不到就要采取措施了。</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null}],"linkMap":[]},{"x":80,"y":56,"rotation":0,"id":273,"uid":"com.gliffy.shape.basic.basic_v1.default.text","width":150,"height":16,"lockAspectRatio":false,"lockShape":false,"order":35,"graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:center;\"><span style=\"font-size: 14px; font-family: Arial; color: rgb(204, 0, 0); white-space: pre-wrap; line-height: 16.5px;\">System进程</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null,"linkMap":[]},{"x":158,"y":155,"rotation":0,"id":240,"uid":"com.gliffy.shape.uml.uml_v1.default.association","width":100,"height":100,"lockAspectRatio":false,"lockShape":false,"order":9,"graphic":{"type":"Line","Line":{"strokeWidth":1,"strokeColor":"#000000","fillColor":"none","dashStyle":null,"startArrow":0,"endArrow":0,"startArrowRotation":"auto","endArrowRotation":"auto","ortho":true,"interpolationType":"linear","cornerRadius":null,"controlPath":[[3,0],[129,0],[129,0],[255,0]],"lockSegments":{}}},"children":[{"x":0,"y":0,"rotation":0,"id":241,"uid":null,"width":135,"height":14,"lockAspectRatio":false,"lockShape":false,"order":"auto","graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"both","vposition":"none","hposition":"none","html":"<p style=\"text-align:center;\"><span style=\"font-size: 12px; font-family: Arial; white-space: pre-wrap; line-height: 14px; color: rgb(0, 0, 0);\">public static void main(...)</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null}],"linkMap":[]},{"x":471,"y":13,"rotation":0,"id":233,"uid":"com.gliffy.shape.basic.basic_v1.default.text","width":200,"height":40,"lockAspectRatio":false,"lockShape":false,"order":4,"graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:center;\"><span style=\"font-size: 18px; font-family: Arial; color: rgb(204, 0, 0); white-space: pre-wrap; line-height: 20.5px;\">StartService过程分析</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null,"linkMap":[]},{"x":100,"y":80,"rotation":0,"id":236,"uid":"com.gliffy.shape.uml.uml_v1.default.object_timeline","width":120,"height":330,"lockAspectRatio":false,"lockShape":false,"order":5,"graphic":null,"children":[{"x":0,"y":0,"rotation":0,"id":237,"uid":null,"width":120,"height":18,"lockAspectRatio":false,"lockShape":false,"order":"auto","graphic":{"type":"Shape","Shape":{"tid":"com.gliffy.stencil.rectangle.basic_v1","strokeWidth":1,"strokeColor":"#000000","fillColor":"#FFFFFF","gradient":false,"dropShadow":false,"state":0,"shadowX":4,"shadowY":4,"opacity":1}},"children":[{"x":0,"y":0,"rotation":0,"id":238,"uid":null,"width":120,"height":18,"lockAspectRatio":false,"lockShape":false,"order":"auto","graphic":{"type":"Text","Text":{"tid":null,"valign":"top","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:center;\"><span style=\"font-size: 12px; font-family: Arial; white-space: pre-wrap; font-weight: bold; line-height: 14px; color: rgb(0, 0, 0);\">SystemServer.java</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null}],"constraints":{"constraints":[{"type":"HeightConstraint","HeightConstraint":{"isMin":false,"heightInfo":[{"id":238,"magnitude":1}],"growParent":true,"padding":0}}]}},{"x":0,"y":18,"rotation":0,"id":239,"uid":null,"width":120,"height":312,"lockAspectRatio":false,"lockShape":false,"order":"auto","graphic":{"type":"Shape","Shape":{"tid":"com.gliffy.stencil.object_timeline.uml_v1","strokeWidth":1,"strokeColor":"#000000","fillColor":"#FFFFFF","gradient":false,"dropShadow":false,"state":0,"shadowX":4,"shadowY":4,"opacity":1}},"children":null,"constraints":{"constraints":[{"type":"HeightConstraint","HeightConstraint":{"isMin":false,"heightInfo":[{"id":236,"magnitude":1},{"id":237,"magnitude":-1}],"growParent":false,"padding":0}},{"type":"PositionConstraint","PositionConstraint":{"nodeId":237,"px":0,"py":1}}]}}],"constraints":{"constraints":[{"type":"HeightConstraint","HeightConstraint":{"isMin":true,"heightInfo":[{"id":237,"magnitude":1}],"growParent":false,"padding":0}}]},"linkMap":[]},{"x":198,"y":215,"rotation":0,"id":242,"uid":"com.gliffy.shape.uml.uml_v1.default.association","width":100,"height":100,"lockAspectRatio":false,"lockShape":false,"order":11,"graphic":{"type":"Line","Line":{"strokeWidth":1,"strokeColor":"#000000","fillColor":"none","dashStyle":null,"startArrow":0,"endArrow":0,"startArrowRotation":"auto","endArrowRotation":"auto","ortho":true,"interpolationType":"linear","cornerRadius":null,"controlPath":[[3,0],[129,0],[129,0],[255,0]],"lockSegments":{}}},"children":[{"x":0,"y":0,"rotation":0,"id":243,"uid":null,"width":214,"height":14,"lockAspectRatio":false,"lockShape":false,"order":"auto","graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"both","vposition":"none","hposition":"none","html":"<p style=\"text-align:center;\"><span style=\"font-size: 12px; font-family: Arial; white-space: pre-wrap; line-height: 14px; color: rgb(0, 0, 0);\">ServerThread thr = new ServerThread();</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null}],"linkMap":[]},{"x":198,"y":265,"rotation":0,"id":244,"uid":"com.gliffy.shape.uml.uml_v1.default.association","width":100,"height":100,"lockAspectRatio":false,"lockShape":false,"order":13,"graphic":{"type":"Line","Line":{"strokeWidth":1,"strokeColor":"#000000","fillColor":"none","dashStyle":null,"startArrow":0,"endArrow":0,"startArrowRotation":"auto","endArrowRotation":"auto","ortho":true,"interpolationType":"linear","cornerRadius":null,"controlPath":[[3,0],[129,0],[129,0],[255,0]],"lockSegments":{}}},"children":[{"x":0,"y":0,"rotation":0,"id":245,"uid":null,"width":89,"height":14,"lockAspectRatio":false,"lockShape":false,"order":"auto","graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"both","vposition":"none","hposition":"none","html":"<p style=\"text-align:center;\"><span style=\"font-size: 12px; font-family: Arial; white-space: pre-wrap; line-height: 14px; color: rgb(0, 0, 0);\">thr.initAndLoop()</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null}],"linkMap":[]},{"x":400,"y":80,"rotation":0,"id":246,"uid":"com.gliffy.shape.uml.uml_v1.default.object_timeline","width":120,"height":690,"lockAspectRatio":false,"lockShape":false,"order":15,"graphic":null,"children":[{"x":0,"y":0,"rotation":0,"id":247,"uid":null,"width":120,"height":18,"lockAspectRatio":false,"lockShape":false,"order":"auto","graphic":{"type":"Shape","Shape":{"tid":"com.gliffy.stencil.rectangle.basic_v1","strokeWidth":1,"strokeColor":"#000000","fillColor":"#FFFFFF","gradient":false,"dropShadow":false,"state":0,"shadowX":4,"shadowY":4,"opacity":1}},"children":[{"x":0,"y":0,"rotation":0,"id":248,"uid":null,"width":120,"height":18,"lockAspectRatio":false,"lockShape":false,"order":"auto","graphic":{"type":"Text","Text":{"tid":null,"valign":"top","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:center;\"><span style=\"font-size: 12px; font-family: Arial; white-space: pre-wrap; font-weight: bold; line-height: 14px; color: rgb(0, 0, 0);\">ServerThread.java</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null}],"constraints":{"constraints":[{"type":"HeightConstraint","HeightConstraint":{"isMin":false,"heightInfo":[{"id":248,"magnitude":1}],"growParent":true,"padding":0}}]}},{"x":0,"y":18,"rotation":0,"id":249,"uid":null,"width":120,"height":672,"lockAspectRatio":false,"lockShape":false,"order":"auto","graphic":{"type":"Shape","Shape":{"tid":"com.gliffy.stencil.object_timeline.uml_v1","strokeWidth":1,"strokeColor":"#000000","fillColor":"#FFFFFF","gradient":false,"dropShadow":false,"state":0,"shadowX":4,"shadowY":4,"opacity":1}},"children":null,"constraints":{"constraints":[{"type":"HeightConstraint","HeightConstraint":{"isMin":false,"heightInfo":[{"id":246,"magnitude":1},{"id":247,"magnitude":-1}],"growParent":false,"padding":0}},{"type":"PositionConstraint","PositionConstraint":{"nodeId":247,"px":0,"py":1}}]}}],"constraints":{"constraints":[{"type":"HeightConstraint","HeightConstraint":{"isMin":true,"heightInfo":[{"id":247,"magnitude":1}],"growParent":false,"padding":0}}]},"linkMap":[]},{"x":458,"y":275,"rotation":0,"id":250,"uid":"com.gliffy.shape.uml.uml_v1.default.association","width":100,"height":100,"lockAspectRatio":false,"lockShape":false,"order":19,"graphic":{"type":"Line","Line":{"strokeWidth":1,"strokeColor":"#000000","fillColor":"none","dashStyle":null,"startArrow":0,"endArrow":0,"startArrowRotation":"auto","endArrowRotation":"auto","ortho":true,"interpolationType":"linear","cornerRadius":null,"controlPath":[[3,0],[129,0],[129,0],[255,0]],"lockSegments":{}}},"children":[{"x":0,"y":0,"rotation":0,"id":251,"uid":null,"width":71,"height":28,"lockAspectRatio":false,"lockShape":false,"order":"auto","graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"both","vposition":"none","hposition":"none","html":"<p style=\"text-align:center;\"><span style=\"font-size: 12px; font-family: Arial; white-space: pre-wrap; line-height: 14px; color: rgb(0, 0, 0);\">initAndLoop()\n</span></p><p style=\"text-align:center;\"><span style=\"font-size: 12px; font-family: Arial; white-space: pre-wrap; line-height: 14px; color: rgb(0, 0, 0);\">初始化</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null}],"linkMap":[]},{"x":498,"y":325,"rotation":0,"id":252,"uid":"com.gliffy.shape.uml.uml_v1.default.association","width":100,"height":100,"lockAspectRatio":false,"lockShape":false,"order":21,"graphic":{"type":"Line","Line":{"strokeWidth":1,"strokeColor":"#000000","fillColor":"none","dashStyle":null,"startArrow":0,"endArrow":0,"startArrowRotation":"auto","endArrowRotation":"auto","ortho":true,"interpolationType":"linear","cornerRadius":null,"controlPath":[[3,0],[158.5,0],[158.5,0],[314,0]],"lockSegments":{}}},"children":[{"x":0,"y":0,"rotation":0,"id":253,"uid":null,"width":278,"height":28,"lockAspectRatio":false,"lockShape":false,"order":"auto","graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"both","vposition":"none","hposition":"none","html":"<p style=\"text-align:center;\"><span style=\"font-size: 12px; font-family: Arial; white-space: pre-wrap; line-height: 14px; color: rgb(0, 0, 0);\">context = ActivityManagerService.main(factoryTest);\n</span></p><p style=\"text-align:center;\"><span style=\"font-size: 12px; font-family: Arial; white-space: pre-wrap; line-height: 14px; color: rgb(0, 0, 0);\">factoryTest是否是厂家测试版本的标记</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null}],"linkMap":[]},{"x":740,"y":80,"rotation":0,"id":254,"uid":"com.gliffy.shape.uml.uml_v1.default.object_timeline","width":150,"height":690,"lockAspectRatio":false,"lockShape":false,"order":23,"graphic":null,"children":[{"x":0,"y":0,"rotation":0,"id":255,"uid":null,"width":150,"height":18,"lockAspectRatio":false,"lockShape":false,"order":"auto","graphic":{"type":"Shape","Shape":{"tid":"com.gliffy.stencil.rectangle.basic_v1","strokeWidth":1,"strokeColor":"#000000","fillColor":"#FFFFFF","gradient":false,"dropShadow":false,"state":0,"shadowX":4,"shadowY":4,"opacity":1}},"children":[{"x":0,"y":0,"rotation":0,"id":256,"uid":null,"width":150,"height":18,"lockAspectRatio":false,"lockShape":false,"order":"auto","graphic":{"type":"Text","Text":{"tid":null,"valign":"top","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:center;\"><span style=\"font-size: 12px; font-family: Arial; white-space: pre-wrap; font-weight: bold; line-height: 14px; color: rgb(0, 0, 0);\">ActivityManagerService</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null}],"constraints":{"constraints":[{"type":"HeightConstraint","HeightConstraint":{"isMin":false,"heightInfo":[{"id":256,"magnitude":1}],"growParent":true,"padding":0}}]}},{"x":0,"y":18,"rotation":0,"id":257,"uid":null,"width":150,"height":672,"lockAspectRatio":false,"lockShape":false,"order":"auto","graphic":{"type":"Shape","Shape":{"tid":"com.gliffy.stencil.object_timeline.uml_v1","strokeWidth":1,"strokeColor":"#000000","fillColor":"#FFFFFF","gradient":false,"dropShadow":false,"state":0,"shadowX":4,"shadowY":4,"opacity":1}},"children":null,"constraints":{"constraints":[{"type":"HeightConstraint","HeightConstraint":{"isMin":false,"heightInfo":[{"id":254,"magnitude":1},{"id":255,"magnitude":-1}],"growParent":false,"padding":0}},{"type":"PositionConstraint","PositionConstraint":{"nodeId":255,"px":0,"py":1}}]}}],"constraints":{"constraints":[{"type":"HeightConstraint","HeightConstraint":{"isMin":true,"heightInfo":[{"id":255,"magnitude":1}],"growParent":false,"padding":0}}]},"linkMap":[]},{"x":858,"y":375,"rotation":0,"id":258,"uid":"com.gliffy.shape.uml.uml_v1.default.association","width":100,"height":100,"lockAspectRatio":false,"lockShape":false,"order":27,"graphic":{"type":"Line","Line":{"strokeWidth":1,"strokeColor":"#000000","fillColor":"none","dashStyle":null,"startArrow":0,"endArrow":0,"startArrowRotation":"auto","endArrowRotation":"auto","ortho":true,"interpolationType":"linear","cornerRadius":null,"controlPath":[[3,0],[129,0],[129,0],[255,0]],"lockSegments":{}}},"children":[{"x":0,"y":0,"rotation":0,"id":259,"uid":null,"width":150,"height":14,"lockAspectRatio":false,"lockShape":false,"order":"auto","graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"both","vposition":"none","hposition":"none","html":"<p style=\"text-align:center;\"><span style=\"font-size: 12px; font-family: Arial; white-space: pre-wrap; line-height: 14px; color: rgb(0, 0, 0);\">AThread thr=new AThread()</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null}],"linkMap":[]},{"x":858,"y":415,"rotation":0,"id":260,"uid":"com.gliffy.shape.uml.uml_v1.default.association","width":100,"height":100,"lockAspectRatio":false,"lockShape":false,"order":29,"graphic":{"type":"Line","Line":{"strokeWidth":1,"strokeColor":"#000000","fillColor":"none","dashStyle":null,"startArrow":0,"endArrow":0,"startArrowRotation":"auto","endArrowRotation":"auto","ortho":true,"interpolationType":"linear","cornerRadius":null,"controlPath":[[3,0],[129,0],[129,0],[255,0]],"lockSegments":{}}},"children":[{"x":0,"y":0,"rotation":0,"id":261,"uid":null,"width":161,"height":28,"lockAspectRatio":false,"lockShape":false,"order":"auto","graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"both","vposition":"none","hposition":"none","html":"<p style=\"text-align:center;\"><span style=\"font-size: 12px; font-family: Arial; white-space: pre-wrap; line-height: 14px; color: rgb(0, 0, 0);\">thr.start()\n</span></p><p style=\"text-align:center;\"><span style=\"font-size: 12px; font-family: Arial; white-space: pre-wrap; line-height: 14px; color: rgb(0, 0, 0);\">启动一个线程,专门服务\b于AMS</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null}],"linkMap":[]},{"x":818,"y":335,"rotation":0,"id":263,"uid":"com.gliffy.shape.uml.uml_v1.default.association","width":100,"height":100,"lockAspectRatio":false,"lockShape":false,"order":31,"graphic":{"type":"Line","Line":{"strokeWidth":1,"strokeColor":"#000000","fillColor":"none","dashStyle":null,"startArrow":0,"endArrow":0,"startArrowRotation":"auto","endArrowRotation":"auto","ortho":true,"interpolationType":"linear","cornerRadius":null,"controlPath":[[3,0],[305.5,0],[305.5,0],[608,0]],"lockSegments":{}}},"children":[{"x":0,"y":0,"rotation":0,"id":264,"uid":null,"width":120,"height":14,"lockAspectRatio":false,"lockShape":false,"order":"auto","graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"both","vposition":"none","hposition":"none","html":"<p style=\"text-align:center;\"><span style=\"font-size: 12px; font-family: Arial; white-space: pre-wrap; line-height: 14px; color: rgb(0, 0, 0);\">static Context main(...)</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null}],"linkMap":[]},{"x":898,"y":455,"rotation":0,"id":281,"uid":"com.gliffy.shape.uml.uml_v1.default.association","width":100,"height":100,"lockAspectRatio":false,"lockShape":false,"order":40,"graphic":{"type":"Line","Line":{"strokeWidth":1,"strokeColor":"#000000","fillColor":"none","dashStyle":null,"startArrow":0,"endArrow":0,"startArrowRotation":"auto","endArrowRotation":"auto","ortho":true,"interpolationType":"linear","cornerRadius":null,"controlPath":[[3,0],[129,0],[129,0],[255,0]],"lockSegments":{}}},"children":[{"x":0,"y":0,"rotation":0,"id":282,"uid":null,"width":90,"height":14,"lockAspectRatio":false,"lockShape":false,"order":"auto","graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"both","vposition":"none","hposition":"none","html":"<p style=\"text-align:center;\"><span style=\"font-size: 12px; font-family: Arial; color: rgb(204, 0, 0); white-space: pre-wrap; line-height: 14px;\">Looper.prepare()</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null}],"linkMap":[]},{"x":938,"y":535,"rotation":0,"id":275,"uid":"com.gliffy.shape.uml.uml_v1.default.association","width":100,"height":100,"lockAspectRatio":false,"lockShape":false,"order":36,"graphic":{"type":"Line","Line":{"strokeWidth":1,"strokeColor":"#000000","fillColor":"none","dashStyle":null,"startArrow":0,"endArrow":0,"startArrowRotation":"auto","endArrowRotation":"auto","ortho":true,"interpolationType":"linear","cornerRadius":null,"controlPath":[[3,0],[129,0],[129,0],[255,0]],"lockSegments":{}}},"children":[{"x":0,"y":0,"rotation":0,"id":276,"uid":null,"width":147,"height":28,"lockAspectRatio":false,"lockShape":false,"order":"auto","graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"both","vposition":"none","hposition":"none","html":"<p style=\"text-align:center;\"><span style=\"font-size: 12px; font-family: Arial; color: rgb(204, 0, 0); white-space: pre-wrap; line-height: 14px;\">注册自身到WatchDog\n</span></p><p style=\"text-align:center;\"><span style=\"font-size: 12px; font-family: Arial; color: rgb(204, 0, 0); white-space: pre-wrap; line-height: 14px;\"> 看门狗会监控系统关键服务</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null}],"linkMap":[]},{"x":898,"y":495,"rotation":0,"id":271,"uid":"com.gliffy.shape.uml.uml_v1.default.association","width":100,"height":100,"lockAspectRatio":false,"lockShape":false,"order":33,"graphic":{"type":"Line","Line":{"strokeWidth":1,"strokeColor":"#000000","fillColor":"none","dashStyle":null,"startArrow":0,"endArrow":0,"startArrowRotation":"auto","endArrowRotation":"auto","ortho":true,"interpolationType":"linear","cornerRadius":null,"controlPath":[[3,0],[129,0],[129,0],[255,0]],"lockSegments":{}}},"children":[{"x":0,"y":0,"rotation":0,"id":272,"uid":null,"width":159,"height":14,"lockAspectRatio":false,"lockShape":false,"order":"auto","graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"both","vposition":"none","hposition":"none","html":"<p style=\"text-align:center;\"><span style=\"font-size: 12px; font-family: Arial; color: rgb(204, 0, 0); white-space: pre-wrap; line-height: 14px;\">new ActivityManagerService()</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null}],"linkMap":[]},{"x":898,"y":575,"rotation":0,"id":286,"uid":"com.gliffy.shape.uml.uml_v1.default.association","width":100,"height":100,"lockAspectRatio":false,"lockShape":false,"order":42,"graphic":{"type":"Line","Line":{"strokeWidth":1,"strokeColor":"#000000","fillColor":"none","dashStyle":null,"startArrow":0,"endArrow":0,"startArrowRotation":"auto","endArrowRotation":"auto","ortho":true,"interpolationType":"linear","cornerRadius":null,"controlPath":[[3,0],[129,0],[129,0],[255,0]],"lockSegments":{}}},"children":[{"x":0,"y":0,"rotation":0,"id":287,"uid":null,"width":71,"height":14,"lockAspectRatio":false,"lockShape":false,"order":"auto","graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"both","vposition":"none","hposition":"none","html":"<p style=\"text-align:center;\"><span style=\"font-size: 12px; font-family: Arial; color: rgb(204, 0, 0); white-space: pre-wrap; line-height: 14px;\">Looper.loop()</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null}],"linkMap":[]},{"x":1246.3750563247959,"y":521,"rotation":0,"id":298,"uid":"com.gliffy.shape.basic.basic_v1.default.line","width":117.18820405994897,"height":100,"lockAspectRatio":false,"lockShape":false,"order":53,"graphic":{"type":"Line","Line":{"strokeWidth":2,"strokeColor":"#000000","fillColor":"none","dashStyle":null,"startArrow":0,"endArrow":0,"startArrowRotation":"auto","endArrowRotation":"auto","ortho":false,"interpolationType":"linear","cornerRadius":null,"controlPath":[[0,0],[295.3514744925062,-2.2737367544323206e-13]],"lockSegments":{}}},"children":[{"x":0,"y":0,"rotation":0,"id":299,"uid":null,"width":329,"height":28,"lockAspectRatio":false,"lockShape":false,"order":"auto","graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"both","vposition":"none","hposition":"none","html":"<p style=\"text-align:center;\"><span style=\"font-size: 12px; font-family: Arial; white-space: pre-wrap; line-height: 14px; color: rgb(0, 0, 0);\">ams.mStackSupervisor =\n</span></p><p style=\"text-align:center;\"><span style=\"font-size: 12px; font-family: Arial; white-space: pre-wrap; line-height: 14px; color: rgb(0, 0, 0);\"> new ActivityStackSupervisor(ams, context, thr.mLooper);等等</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null}],"linkMap":[]},{"x":1374.1101987501404,"y":439,"rotation":0,"id":296,"uid":"com.gliffy.shape.basic.basic_v1.default.line","width":117.18820405994897,"height":100,"lockAspectRatio":false,"lockShape":false,"order":51,"graphic":{"type":"Line","Line":{"strokeWidth":2,"strokeColor":"#000000","fillColor":"none","dashStyle":"1.0,1.0","startArrow":0,"endArrow":17,"startArrowRotation":"auto","endArrowRotation":"auto","ortho":false,"interpolationType":"linear","cornerRadius":null,"controlPath":[[0,0],[0,49.04079934095694]],"lockSegments":{}}},"children":[{"x":0,"y":0,"rotation":0,"id":297,"uid":null,"width":122,"height":14,"lockAspectRatio":false,"lockShape":false,"order":"auto","graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"both","vposition":"none","hposition":"none","html":"<p style=\"text-align:center;\"><span style=\"font-size: 12px; font-family: Arial; white-space: pre-wrap; line-height: 14px; color: rgb(0, 0, 0);\">初始化AMS的成员变量</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null}],"linkMap":[]},{"x":1238.1718820405995,"y":415,"rotation":0,"id":294,"uid":"com.gliffy.shape.uml.uml_v1.default.association","width":117.18820405994897,"height":100,"lockAspectRatio":false,"lockShape":false,"order":49,"graphic":{"type":"Line","Line":{"strokeWidth":1,"strokeColor":"#000000","fillColor":"none","dashStyle":null,"startArrow":0,"endArrow":0,"startArrowRotation":"auto","endArrowRotation":"auto","ortho":true,"interpolationType":"linear","cornerRadius":null,"controlPath":[[3.5156461217984694,0],[151.1727832373342,0],[151.1727832373342,0],[298.82992035286986,0]],"lockSegments":{}}},"children":[{"x":0,"y":0,"rotation":0,"id":295,"uid":null,"width":131,"height":28,"lockAspectRatio":false,"lockShape":false,"order":"auto","graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"both","vposition":"none","hposition":"none","html":"<p style=\"text-align:center;\"><span style=\"font-size: 12px; font-family: Arial; white-space: pre-wrap; line-height: 14px; color: rgb(0, 0, 0);\">at.attach(true)\n</span></p><p style=\"text-align:center;\"><span style=\"font-size: 12px; font-family: Arial; white-space: pre-wrap; line-height: 14px; color: rgb(0, 0, 0);\">true代表system要求启动</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null}],"linkMap":[]},{"x":1238.1718820405995,"y":375,"rotation":0,"id":292,"uid":"com.gliffy.shape.uml.uml_v1.default.association","width":117.18820405994897,"height":100,"lockAspectRatio":false,"lockShape":false,"order":47,"graphic":{"type":"Line","Line":{"strokeWidth":1,"strokeColor":"#000000","fillColor":"none","dashStyle":null,"startArrow":0,"endArrow":0,"startArrowRotation":"auto","endArrowRotation":"auto","ortho":true,"interpolationType":"linear","cornerRadius":null,"controlPath":[[3.5156461217984694,0],[151.1727832373342,0],[151.1727832373342,0],[298.82992035286986,0]],"lockSegments":{}}},"children":[{"x":0,"y":0,"rotation":0,"id":293,"uid":null,"width":206,"height":14,"lockAspectRatio":false,"lockShape":false,"order":"auto","graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"both","vposition":"none","hposition":"none","html":"<p style=\"text-align:center;\"><span style=\"font-size: 12px; font-family: Arial; white-space: pre-wrap; line-height: 14px; color: rgb(0, 0, 0);\">ActivityThread at=new ActivityThread()</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null}],"linkMap":[]},{"x":1246.3750563247959,"y":571,"rotation":0,"id":301,"uid":"com.gliffy.shape.basic.basic_v1.default.line","width":117.18820405994897,"height":100,"lockAspectRatio":false,"lockShape":false,"order":55,"graphic":{"type":"Line","Line":{"strokeWidth":2,"strokeColor":"#000000","fillColor":"none","dashStyle":null,"startArrow":0,"endArrow":0,"startArrowRotation":"auto","endArrowRotation":"auto","ortho":false,"interpolationType":"linear","cornerRadius":null,"controlPath":[[0,0],[295.3514744925062,-2.2737367544323206e-13]],"lockSegments":{}}},"children":[{"x":0,"y":0,"rotation":0,"id":302,"uid":null,"width":191,"height":14,"lockAspectRatio":false,"lockShape":false,"order":"auto","graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"both","vposition":"none","hposition":"none","html":"<p style=\"text-align:center;\"><span style=\"font-size: 12px; font-family: Arial; white-space: pre-wrap; line-height: 14px; color: rgb(0, 0, 0);\"> m.startRunning(null, null, null, null);</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null}],"linkMap":[]},{"x":458,"y":635,"rotation":0,"id":306,"uid":"com.gliffy.shape.uml.uml_v1.default.association","width":100,"height":100,"lockAspectRatio":false,"lockShape":false,"order":59,"graphic":{"type":"Line","Line":{"strokeWidth":1,"strokeColor":"#000000","fillColor":"none","dashStyle":null,"startArrow":0,"endArrow":0,"startArrowRotation":"auto","endArrowRotation":"auto","ortho":true,"interpolationType":"linear","cornerRadius":null,"controlPath":[[3,0],[148,0],[148,0],[293,0]],"lockSegments":{}}},"children":[{"x":0,"y":0,"rotation":0,"id":308,"uid":null,"width":243,"height":14,"lockAspectRatio":false,"lockShape":false,"order":"auto","graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"both","vposition":"none","hposition":"none","html":"<p style=\"text-align:center;\"><span style=\"font-size: 12px; font-family: Arial; white-space: pre-wrap; line-height: 14px; color: rgb(0, 0, 0);\"> ActivityManagerService.setSystemProcess();</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null}],"linkMap":[]},{"x":80,"y":850,"rotation":0,"id":314,"uid":"com.gliffy.shape.uml.uml_v1.default.object_timeline","width":170,"height":196,"lockAspectRatio":false,"lockShape":false,"order":63,"graphic":null,"children":[{"x":0,"y":0,"rotation":0,"id":315,"uid":null,"width":170,"height":18,"lockAspectRatio":false,"lockShape":false,"order":"auto","graphic":{"type":"Shape","Shape":{"tid":"com.gliffy.stencil.rectangle.basic_v1","strokeWidth":1,"strokeColor":"#000000","fillColor":"#FFFFFF","gradient":false,"dropShadow":false,"state":0,"shadowX":4,"shadowY":4,"opacity":1}},"children":[{"x":0,"y":0,"rotation":0,"id":316,"uid":null,"width":170,"height":18,"lockAspectRatio":false,"lockShape":false,"order":"auto","graphic":{"type":"Text","Text":{"tid":null,"valign":"top","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:center;\"><span style=\"font-size: 12px; font-family: Arial; white-space: pre-wrap; font-weight: bold; line-height: 14px; color: rgb(0, 0, 0);\">ActivityManagerProxy.java</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null}],"constraints":{"constraints":[{"type":"HeightConstraint","HeightConstraint":{"isMin":false,"heightInfo":[{"id":316,"magnitude":1}],"growParent":true,"padding":0}}]}},{"x":0,"y":18,"rotation":0,"id":317,"uid":null,"width":170,"height":178,"lockAspectRatio":false,"lockShape":false,"order":"auto","graphic":{"type":"Shape","Shape":{"tid":"com.gliffy.stencil.object_timeline.uml_v1","strokeWidth":1,"strokeColor":"#000000","fillColor":"#FFFFFF","gradient":false,"dropShadow":false,"state":0,"shadowX":4,"shadowY":4,"opacity":1}},"children":null,"constraints":{"constraints":[{"type":"HeightConstraint","HeightConstraint":{"isMin":false,"heightInfo":[{"id":314,"magnitude":1},{"id":315,"magnitude":-1}],"growParent":false,"padding":0}},{"type":"PositionConstraint","PositionConstraint":{"nodeId":315,"px":0,"py":1}}]}}],"constraints":{"constraints":[{"type":"HeightConstraint","HeightConstraint":{"isMin":true,"heightInfo":[{"id":315,"magnitude":1}],"growParent":false,"padding":0}}]},"linkMap":[]},{"x":380,"y":850,"rotation":0,"id":318,"uid":"com.gliffy.shape.uml.uml_v1.default.object_timeline","width":170,"height":290,"lockAspectRatio":false,"lockShape":false,"order":67,"graphic":null,"children":[{"x":0,"y":0,"rotation":0,"id":319,"uid":null,"width":170,"height":18,"lockAspectRatio":false,"lockShape":false,"order":"auto","graphic":{"type":"Shape","Shape":{"tid":"com.gliffy.stencil.rectangle.basic_v1","strokeWidth":1,"strokeColor":"#000000","fillColor":"#FFFFFF","gradient":false,"dropShadow":false,"state":0,"shadowX":4,"shadowY":4,"opacity":1}},"children":[{"x":0,"y":0,"rotation":0,"id":320,"uid":null,"width":170,"height":18,"lockAspectRatio":false,"lockShape":false,"order":"auto","graphic":{"type":"Text","Text":{"tid":null,"valign":"top","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:center;\"><span style=\"font-size: 12px; font-family: Arial; white-space: pre-wrap; font-weight: bold; line-height: 14px; color: rgb(0, 0, 0);\">ActivityManagerService.java</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null}],"constraints":{"constraints":[{"type":"HeightConstraint","HeightConstraint":{"isMin":false,"heightInfo":[{"id":320,"magnitude":1}],"growParent":true,"padding":0}}]}},{"x":0,"y":18,"rotation":0,"id":321,"uid":null,"width":170,"height":272,"lockAspectRatio":false,"lockShape":false,"order":"auto","graphic":{"type":"Shape","Shape":{"tid":"com.gliffy.stencil.object_timeline.uml_v1","strokeWidth":1,"strokeColor":"#000000","fillColor":"#FFFFFF","gradient":false,"dropShadow":false,"state":0,"shadowX":4,"shadowY":4,"opacity":1}},"children":null,"constraints":{"constraints":[{"type":"HeightConstraint","HeightConstraint":{"isMin":false,"heightInfo":[{"id":318,"magnitude":1},{"id":319,"magnitude":-1}],"growParent":false,"padding":0}},{"type":"PositionConstraint","PositionConstraint":{"nodeId":319,"px":0,"py":1}}]}}],"constraints":{"constraints":[{"type":"HeightConstraint","HeightConstraint":{"isMin":true,"heightInfo":[{"id":319,"magnitude":1}],"growParent":false,"padding":0}}]},"linkMap":[]},{"x":466,"y":983,"rotation":0,"id":335,"uid":"com.gliffy.shape.basic.basic_v1.default.line","width":100,"height":100,"lockAspectRatio":false,"lockShape":false,"order":75,"graphic":{"type":"Line","Line":{"strokeWidth":2,"strokeColor":"#60327C","fillColor":"none","dashStyle":null,"startArrow":0,"endArrow":1,"startArrowRotation":"auto","endArrowRotation":"auto","ortho":false,"interpolationType":"linear","cornerRadius":null,"controlPath":[[0,0],[348.0014367786432,4.547473508864641e-13]],"lockSegments":{}}},"children":[{"x":0,"y":0,"rotation":0,"id":336,"uid":null,"width":161,"height":14,"lockAspectRatio":false,"lockShape":false,"order":"auto","graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"both","vposition":"none","hposition":"none","html":"<p style=\"text-align:center;\"><span style=\"font-size: 12px; font-family: Arial; white-space: pre-wrap; line-height: 14px; color: rgb(0, 0, 0);\">mServices.startServiceLocked</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null}],"linkMap":[]},{"x":730,"y":850,"rotation":0,"id":337,"uid":"com.gliffy.shape.uml.uml_v1.default.object_timeline","width":170,"height":290,"lockAspectRatio":false,"lockShape":false,"order":77,"graphic":null,"children":[{"x":0,"y":0,"rotation":0,"id":338,"uid":null,"width":170,"height":18,"lockAspectRatio":false,"lockShape":false,"order":"auto","graphic":{"type":"Shape","Shape":{"tid":"com.gliffy.stencil.rectangle.basic_v1","strokeWidth":1,"strokeColor":"#000000","fillColor":"#FFFFFF","gradient":false,"dropShadow":false,"state":0,"shadowX":4,"shadowY":4,"opacity":1}},"children":[{"x":0,"y":0,"rotation":0,"id":339,"uid":null,"width":170,"height":18,"lockAspectRatio":false,"lockShape":false,"order":"auto","graphic":{"type":"Text","Text":{"tid":null,"valign":"top","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:center;\"><span style=\"font-size: 12px; font-family: Arial; white-space: pre-wrap; font-weight: bold; line-height: 14px; color: rgb(0, 0, 0);\">ActiveServices.java</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null}],"constraints":{"constraints":[{"type":"HeightConstraint","HeightConstraint":{"isMin":false,"heightInfo":[{"id":339,"magnitude":1}],"growParent":true,"padding":0}}]}},{"x":0,"y":18,"rotation":0,"id":340,"uid":null,"width":170,"height":272,"lockAspectRatio":false,"lockShape":false,"order":"auto","graphic":{"type":"Shape","Shape":{"tid":"com.gliffy.stencil.object_timeline.uml_v1","strokeWidth":1,"strokeColor":"#000000","fillColor":"#FFFFFF","gradient":false,"dropShadow":false,"state":0,"shadowX":4,"shadowY":4,"opacity":1}},"children":null,"constraints":{"constraints":[{"type":"HeightConstraint","HeightConstraint":{"isMin":false,"heightInfo":[{"id":337,"magnitude":1},{"id":338,"magnitude":-1}],"growParent":false,"padding":0}},{"type":"PositionConstraint","PositionConstraint":{"nodeId":338,"px":0,"py":1}}]}}],"constraints":{"constraints":[{"type":"HeightConstraint","HeightConstraint":{"isMin":true,"heightInfo":[{"id":338,"magnitude":1}],"growParent":false,"padding":0}}]},"linkMap":[]},{"x":471,"y":1053,"rotation":0,"id":343,"uid":"com.gliffy.shape.basic.basic_v1.default.line","width":100,"height":100,"lockAspectRatio":false,"lockShape":false,"order":83,"graphic":{"type":"Line","Line":{"strokeWidth":2,"strokeColor":"#60327C","fillColor":"none","dashStyle":null,"startArrow":0,"endArrow":0,"startArrowRotation":"auto","endArrowRotation":"auto","ortho":false,"interpolationType":"linear","cornerRadius":null,"controlPath":[[0,0],[258.0077518215296,2.2737367544323206e-13]],"lockSegments":{}}},"children":[{"x":0,"y":0,"rotation":0,"id":344,"uid":null,"width":105,"height":14,"lockAspectRatio":false,"lockShape":false,"order":"auto","graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"both","vposition":"none","hposition":"none","html":"<p style=\"text-align:center;\"><span style=\"font-size: 12px; font-family: Arial; white-space: pre-wrap; line-height: 14px; color: rgb(0, 0, 0);\">startProcessLocked</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null}],"linkMap":[]},{"x":511,"y":1093,"rotation":0,"id":345,"uid":"com.gliffy.shape.basic.basic_v1.default.line","width":100,"height":100,"lockAspectRatio":false,"lockShape":false,"order":85,"graphic":{"type":"Line","Line":{"strokeWidth":2,"strokeColor":"#60327C","fillColor":"none","dashStyle":null,"startArrow":0,"endArrow":0,"startArrowRotation":"auto","endArrowRotation":"auto","ortho":false,"interpolationType":"linear","cornerRadius":null,"controlPath":[[0,0],[279.01612856607414,0]],"lockSegments":{}}},"children":[{"x":0,"y":0,"rotation":0,"id":346,"uid":null,"width":243,"height":14,"lockAspectRatio":false,"lockShape":false,"order":"auto","graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"both","vposition":"none","hposition":"none","html":"<p style=\"text-align:center;\"><span style=\"font-size: 12px; font-family: Arial; white-space: pre-wrap; line-height: 14px; color: rgb(0, 0, 0);\">Process.start(\"android.app.ActivityThread\",...)</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null}],"linkMap":[]},{"x":67,"y":960,"rotation":0,"id":349,"uid":"com.gliffy.shape.basic.basic_v1.default.text","width":30,"height":80,"lockAspectRatio":false,"lockShape":false,"order":88,"graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:center;\"><span style=\"font-size: 18px; font-family: Arial; color: rgb(255, 0, 255); white-space: pre-wrap; line-height: 20.5px;\">创建进程</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null,"linkMap":[]},{"x":80,"y":1210,"rotation":0,"id":350,"uid":"com.gliffy.shape.uml.uml_v1.default.object_timeline","width":170,"height":559.9999999999999,"lockAspectRatio":false,"lockShape":false,"order":89,"graphic":null,"children":[{"x":0,"y":0,"rotation":0,"id":351,"uid":null,"width":170,"height":18,"lockAspectRatio":false,"lockShape":false,"order":"auto","graphic":{"type":"Shape","Shape":{"tid":"com.gliffy.stencil.rectangle.basic_v1","strokeWidth":1,"strokeColor":"#000000","fillColor":"#FFFFFF","gradient":false,"dropShadow":false,"state":0,"shadowX":4,"shadowY":4,"opacity":1}},"children":[{"x":0,"y":0,"rotation":0,"id":352,"uid":null,"width":170,"height":18,"lockAspectRatio":false,"lockShape":false,"order":"auto","graphic":{"type":"Text","Text":{"tid":null,"valign":"top","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:center;\"><span style=\"font-size: 12px; font-family: Arial; white-space: pre-wrap; font-weight: bold; line-height: 14px; color: rgb(0, 0, 0);\">ActivityThread.java</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null}],"constraints":{"constraints":[{"type":"HeightConstraint","HeightConstraint":{"isMin":false,"heightInfo":[{"id":352,"magnitude":1}],"growParent":true,"padding":0}}]}},{"x":0,"y":18,"rotation":0,"id":353,"uid":null,"width":170,"height":541.9999999999999,"lockAspectRatio":false,"lockShape":false,"order":"auto","graphic":{"type":"Shape","Shape":{"tid":"com.gliffy.stencil.object_timeline.uml_v1","strokeWidth":1,"strokeColor":"#000000","fillColor":"#FFFFFF","gradient":false,"dropShadow":false,"state":0,"shadowX":4,"shadowY":4,"opacity":1}},"children":null,"constraints":{"constraints":[{"type":"HeightConstraint","HeightConstraint":{"isMin":false,"heightInfo":[{"id":350,"magnitude":1},{"id":351,"magnitude":-1}],"growParent":false,"padding":0}},{"type":"PositionConstraint","PositionConstraint":{"nodeId":351,"px":0,"py":1}}]}}],"constraints":{"constraints":[{"type":"HeightConstraint","HeightConstraint":{"isMin":true,"heightInfo":[{"id":351,"magnitude":1}],"growParent":false,"padding":0}}]},"linkMap":[]},{"x":165,"y":1266,"rotation":0,"id":354,"uid":"com.gliffy.shape.uml.uml_v1.default.association","width":100,"height":100,"lockAspectRatio":false,"lockShape":false,"order":93,"graphic":{"type":"Line","Line":{"strokeWidth":1,"strokeColor":"#000000","fillColor":"none","dashStyle":null,"startArrow":0,"endArrow":0,"startArrowRotation":"auto","endArrowRotation":"auto","ortho":true,"interpolationType":"linear","cornerRadius":null,"controlPath":[[3,0],[129,0],[129,0],[255,0]],"lockSegments":{}}},"children":[{"x":0,"y":0,"rotation":0,"id":355,"uid":null,"width":135,"height":14,"lockAspectRatio":false,"lockShape":false,"order":"auto","graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"both","vposition":"none","hposition":"none","html":"<p style=\"text-align:center;\"><span style=\"font-size: 12px; font-family: Arial; white-space: pre-wrap; line-height: 14px; color: rgb(0, 0, 0);\">public static void main(...)</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null}],"linkMap":[]},{"x":195,"y":1306,"rotation":0,"id":357,"uid":"com.gliffy.shape.uml.uml_v1.default.association","width":100,"height":100,"lockAspectRatio":false,"lockShape":false,"order":95,"graphic":{"type":"Line","Line":{"strokeWidth":1,"strokeColor":"#000000","fillColor":"none","dashStyle":null,"startArrow":0,"endArrow":0,"startArrowRotation":"auto","endArrowRotation":"auto","ortho":true,"interpolationType":"linear","cornerRadius":null,"controlPath":[[3,0],[129,0],[129,0],[255,0]],"lockSegments":{}}},"children":[{"x":0,"y":0,"rotation":0,"id":358,"uid":null,"width":236,"height":14,"lockAspectRatio":false,"lockShape":false,"order":"auto","graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"both","vposition":"none","hposition":"none","html":"<p style=\"text-align:center;\"><span style=\"font-size: 12px; font-family: Arial; white-space: pre-wrap; line-height: 14px; color: rgb(0, 0, 0);\">ActivityThread thread = new ActivityThread()</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null}],"linkMap":[]},{"x":195,"y":1346,"rotation":0,"id":359,"uid":"com.gliffy.shape.uml.uml_v1.default.association","width":100,"height":100,"lockAspectRatio":false,"lockShape":false,"order":97,"graphic":{"type":"Line","Line":{"strokeWidth":1,"strokeColor":"#000000","fillColor":"none","dashStyle":null,"startArrow":0,"endArrow":0,"startArrowRotation":"auto","endArrowRotation":"auto","ortho":true,"interpolationType":"linear","cornerRadius":null,"controlPath":[[3,0],[129,0],[129,0],[255,0]],"lockSegments":{}}},"children":[{"x":0,"y":0,"rotation":0,"id":360,"uid":null,"width":103,"height":14,"lockAspectRatio":false,"lockShape":false,"order":"auto","graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"both","vposition":"none","hposition":"none","html":"<p style=\"text-align:center;\"><span style=\"font-size: 12px; font-family: Arial; white-space: pre-wrap; line-height: 14px; color: rgb(0, 0, 0);\">thread.attach(false)</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null}],"linkMap":[]},{"x":225,"y":1386,"rotation":0,"id":361,"uid":"com.gliffy.shape.uml.uml_v1.default.association","width":100,"height":100,"lockAspectRatio":false,"lockShape":false,"order":99,"graphic":{"type":"Line","Line":{"strokeWidth":1,"strokeColor":"#000000","fillColor":"none","dashStyle":null,"startArrow":0,"endArrow":1,"startArrowRotation":"auto","endArrowRotation":"auto","ortho":true,"interpolationType":"linear","cornerRadius":null,"controlPath":[[3,0],[129,0],[129,0],[255,0]],"lockSegments":{}}},"children":[{"x":0,"y":0,"rotation":0,"id":362,"uid":null,"width":192,"height":14,"lockAspectRatio":false,"lockShape":false,"order":"auto","graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"both","vposition":"none","hposition":"none","html":"<p style=\"text-align:center;\"><span style=\"font-size: 12px; font-family: Arial; white-space: pre-wrap; line-height: 14px; color: rgb(0, 0, 0);\">ams.attachAppication(mAppThread)</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null}],"linkMap":[]},{"x":195,"y":1706,"rotation":0,"id":363,"uid":"com.gliffy.shape.uml.uml_v1.default.association","width":100,"height":100,"lockAspectRatio":false,"lockShape":false,"order":101,"graphic":{"type":"Line","Line":{"strokeWidth":1,"strokeColor":"#000000","fillColor":"none","dashStyle":null,"startArrow":0,"endArrow":0,"startArrowRotation":"auto","endArrowRotation":"auto","ortho":true,"interpolationType":"linear","cornerRadius":null,"controlPath":[[3,0],[129,0],[129,0],[255,0]],"lockSegments":{}}},"children":[{"x":0,"y":0,"rotation":0,"id":364,"uid":null,"width":71,"height":14,"lockAspectRatio":false,"lockShape":false,"order":"auto","graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"both","vposition":"none","hposition":"none","html":"<p style=\"text-align:center;\"><span style=\"font-size: 12px; font-family: Arial; white-space: pre-wrap; line-height: 14px; color: rgb(0, 0, 0);\">Looper.loop()</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null}],"linkMap":[]},{"x":400,"y":1210,"rotation":0,"id":365,"uid":"com.gliffy.shape.uml.uml_v1.default.object_timeline","width":170,"height":560,"lockAspectRatio":false,"lockShape":false,"order":103,"graphic":null,"children":[{"x":0,"y":0,"rotation":0,"id":366,"uid":null,"width":170,"height":18,"lockAspectRatio":false,"lockShape":false,"order":"auto","graphic":{"type":"Shape","Shape":{"tid":"com.gliffy.stencil.rectangle.basic_v1","strokeWidth":1,"strokeColor":"#000000","fillColor":"#FFFFFF","gradient":false,"dropShadow":false,"state":0,"shadowX":4,"shadowY":4,"opacity":1}},"children":[{"x":0,"y":0,"rotation":0,"id":367,"uid":null,"width":170,"height":18,"lockAspectRatio":false,"lockShape":false,"order":"auto","graphic":{"type":"Text","Text":{"tid":null,"valign":"top","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:center;\"><span style=\"font-size: 12px; font-family: Arial; white-space: pre-wrap; font-weight: bold; line-height: 14px; color: rgb(0, 0, 0);\">ActivityManagerService.java</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null}],"constraints":{"constraints":[{"type":"HeightConstraint","HeightConstraint":{"isMin":false,"heightInfo":[{"id":367,"magnitude":1}],"growParent":true,"padding":0}}]}},{"x":0,"y":18,"rotation":0,"id":368,"uid":null,"width":170,"height":542,"lockAspectRatio":false,"lockShape":false,"order":"auto","graphic":{"type":"Shape","Shape":{"tid":"com.gliffy.stencil.object_timeline.uml_v1","strokeWidth":1,"strokeColor":"#000000","fillColor":"#FFFFFF","gradient":false,"dropShadow":false,"state":0,"shadowX":4,"shadowY":4,"opacity":1}},"children":null,"constraints":{"constraints":[{"type":"HeightConstraint","HeightConstraint":{"isMin":false,"heightInfo":[{"id":365,"magnitude":1},{"id":366,"magnitude":-1}],"growParent":false,"padding":0}},{"type":"PositionConstraint","PositionConstraint":{"nodeId":366,"px":0,"py":1}}]}}],"constraints":{"constraints":[{"type":"HeightConstraint","HeightConstraint":{"isMin":true,"heightInfo":[{"id":366,"magnitude":1}],"growParent":false,"padding":0}}]},"linkMap":[]},{"x":485,"y":1406,"rotation":0,"id":369,"uid":"com.gliffy.shape.uml.uml_v1.default.association","width":100,"height":100,"lockAspectRatio":false,"lockShape":false,"order":107,"graphic":{"type":"Line","Line":{"strokeWidth":1,"strokeColor":"#000000","fillColor":"none","dashStyle":null,"startArrow":0,"endArrow":0,"startArrowRotation":"auto","endArrowRotation":"auto","ortho":true,"interpolationType":"linear","cornerRadius":null,"controlPath":[[3,0],[129,0],[129,0],[255,0]],"lockSegments":{}}},"children":[{"x":0,"y":0,"rotation":0,"id":370,"uid":null,"width":91,"height":14,"lockAspectRatio":false,"lockShape":false,"order":"auto","graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"both","vposition":"none","hposition":"none","html":"<p style=\"text-align:center;\"><span style=\"font-size: 12px; font-family: Arial; white-space: pre-wrap; line-height: 14px; color: rgb(0, 0, 0);\">attachApplication</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null}],"linkMap":[]},{"x":485,"y":1486,"rotation":0,"id":374,"uid":"com.gliffy.shape.uml.uml_v1.default.association","width":100,"height":100,"lockAspectRatio":false,"lockShape":false,"order":111,"graphic":{"type":"Line","Line":{"strokeWidth":1,"strokeColor":"#000000","fillColor":"none","dashStyle":null,"startArrow":0,"endArrow":0,"startArrowRotation":"auto","endArrowRotation":"auto","ortho":true,"interpolationType":"linear","cornerRadius":null,"controlPath":[[3,0],[129,0],[129,0],[255,0]],"lockSegments":{}}},"children":[{"x":0,"y":0,"rotation":0,"id":375,"uid":null,"width":124,"height":14,"lockAspectRatio":false,"lockShape":false,"order":"auto","graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"both","vposition":"none","hposition":"none","html":"<p style=\"text-align:center;\"><span style=\"font-size: 12px; font-family: Arial; white-space: pre-wrap; line-height: 14px; color: rgb(0, 0, 0);\">realStartServiceLocked</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null}],"linkMap":[]},{"x":485,"y":1556,"rotation":0,"id":381,"uid":"com.gliffy.shape.uml.uml_v1.default.association","width":100,"height":100,"lockAspectRatio":false,"lockShape":false,"order":115,"graphic":{"type":"Line","Line":{"strokeWidth":1,"strokeColor":"#000000","fillColor":"none","dashStyle":null,"startArrow":0,"endArrow":0,"startArrowRotation":"auto","endArrowRotation":"auto","ortho":true,"interpolationType":"linear","cornerRadius":null,"controlPath":[[3,0],[156.5,0],[156.5,1],[310,1]],"lockSegments":{}}},"children":[{"x":0,"y":0,"rotation":0,"id":382,"uid":null,"width":272,"height":14,"lockAspectRatio":false,"lockShape":false,"order":"auto","graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"both","vposition":"none","hposition":"none","html":"<p style=\"text-align:center;\"><span style=\"font-size: 12px; font-family: Arial; white-space: pre-wrap; line-height: 14px; color: rgb(0, 0, 0);\"> app.thread.scheduleCreateService(r, r.serviceInfo)</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null}],"linkMap":[]},{"x":193,"y":1603,"rotation":0,"id":390,"uid":"com.gliffy.shape.uml.uml_v1.default.association","width":100,"height":100,"lockAspectRatio":false,"lockShape":false,"order":122,"graphic":{"type":"Line","Line":{"strokeWidth":1,"strokeColor":"#000000","fillColor":"none","dashStyle":null,"startArrow":0,"endArrow":0,"startArrowRotation":"auto","endArrowRotation":"auto","ortho":true,"interpolationType":"linear","cornerRadius":null,"controlPath":[[3,0],[129,0],[129,0],[255,0]],"lockSegments":{}}},"children":[{"x":0,"y":0,"rotation":0,"id":391,"uid":null,"width":112,"height":14,"lockAspectRatio":false,"lockShape":false,"order":"auto","graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"both","vposition":"none","hposition":"none","html":"<p style=\"text-align:center;\"><span style=\"font-size: 12px; font-family: Arial; white-space: pre-wrap; line-height: 14px; color: rgb(0, 0, 0);\">handleCreateService</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null}],"linkMap":[]},{"x":990,"y":1291,"rotation":0,"id":220,"uid":"com.gliffy.shape.uml.uml_v1.default.simple_class","width":310,"height":260,"lockAspectRatio":false,"lockShape":false,"order":2,"graphic":{"type":"Shape","Shape":{"tid":"com.gliffy.stencil.rectangle.basic_v1","strokeWidth":2,"strokeColor":"#000000","fillColor":"#FFFFFF","gradient":false,"dropShadow":true,"state":0,"shadowX":4,"shadowY":4,"opacity":1}},"children":[{"x":4.428571428571428,"y":0,"rotation":0,"id":222,"uid":null,"width":301.14285714285705,"height":210,"lockAspectRatio":false,"lockShape":false,"order":"auto","graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:left;\"><span style=\"font-size: 12px; font-family: Arial; color: rgb(204, 0, 0); white-space: pre-wrap; text-decoration: none; line-height: 14px;\">请问在service运行在宿主进程而开一个子线程和单独用一个进程运行service，有何优缺点？\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 12px; font-family: Arial; color: rgb(204, 0, 0); white-space: pre-wrap; text-decoration: none; line-height: 14px;\">\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 12px; font-family: Arial; color: rgb(204, 0, 0); white-space: pre-wrap; text-decoration: none; line-height: 14px;\">\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 12px; font-family: Arial; color: rgb(204, 0, 0); white-space: pre-wrap; text-decoration: none; line-height: 14px;\">答：完全是根据你的需要。比如，如果你不想主程序的crash影响到你的service，或者service的crash影响到主程序，就可以选择将service放在一个独立的进程里面。\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 12px; font-family: Arial; color: rgb(204, 0, 0); white-space: pre-wrap; text-decoration: none; line-height: 14px;\">\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 12px; font-family: Arial; color: rgb(204, 0, 0); white-space: pre-wrap; text-decoration: none; line-height: 14px;\">不是服务都需要注册，注册到ServiceManager的服务只不过是为了方便Client去查询并获得它的代理接口。如果你有其它途径去获得一个服务的代理接口，就完全不需要注册。\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 12px; font-family: Arial; color: rgb(204, 0, 0); white-space: pre-wrap; text-decoration: none; line-height: 14px;\">\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 12px; font-family: Arial; color: rgb(204, 0, 0); white-space: pre-wrap; text-decoration: none; line-height: 14px;\">ActivityManagerService运行在system进程里面，不是运行在应用程序进程里面。</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null}],"linkMap":[]},{"x":990,"y":980,"rotation":0,"id":217,"uid":"com.gliffy.shape.uml.uml_v1.default.simple_class","width":310.00000000000006,"height":233.50000000000003,"lockAspectRatio":false,"lockShape":false,"order":0,"graphic":{"type":"Shape","Shape":{"tid":"com.gliffy.stencil.rectangle.basic_v1","strokeWidth":2,"strokeColor":"#000000","fillColor":"#FFFFFF","gradient":false,"dropShadow":true,"state":0,"shadowX":4,"shadowY":4,"opacity":1}},"children":[{"x":4.428571428571429,"y":0,"rotation":0,"id":219,"uid":null,"width":301.14285714285705,"height":140,"lockAspectRatio":false,"lockShape":false,"order":"auto","graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:left;\"><span style=\"font-size: 12px; font-family: Arial; color: rgb(204, 0, 0); white-space: pre-wrap; text-decoration: none; line-height: 14px;\">一. 从应用程序进程调用到ActivityManagerService进程中，完成新进程的创建；(Process.start写进Zygote..)\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 12px; font-family: Arial; color: rgb(204, 0, 0); white-space: pre-wrap; text-decoration: none; line-height: 14px;\">\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 12px; font-family: Arial; color: rgb(204, 0, 0); white-space: pre-wrap; text-decoration: none; line-height: 14px;\">二. 从新进程调用到ActivityManagerService进程中，获取要在新进程启动的服务的相关信息；(在ActivityThread中amp.attachApplication(...))\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 12px; font-family: Arial; color: rgb(204, 0, 0); white-space: pre-wrap; text-decoration: none; line-height: 14px;\">\n</span></p><p style=\"text-align:left;\"><span style=\"font-size: 12px; font-family: Arial; color: rgb(204, 0, 0); white-space: pre-wrap; text-decoration: none; line-height: 14px;\">三. Step 12至Step 20，从ActivityManagerService进程又回到新进程中，最终将服务启动起来。(app.thread.scheduleCreateService(...))</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null}],"linkMap":[]},{"x":67,"y":1400,"rotation":0,"id":393,"uid":"com.gliffy.shape.basic.basic_v1.default.text","width":17,"height":80,"lockAspectRatio":false,"lockShape":false,"order":124,"graphic":{"type":"Text","Text":{"tid":null,"valign":"middle","overflow":"none","vposition":"none","hposition":"none","html":"<p style=\"text-align:center;\"><span style=\"font-size: 18px; font-family: Arial; color: rgb(255, 0, 255); white-space: pre-wrap; line-height: 20.5px;\">创建组件</span></p>","paddingLeft":2,"paddingRight":2,"paddingBottom":2,"paddingTop":2}},"children":null,"linkMap":[]}],"background":"#FFFFFF","width":1559,"height":1770,"maxWidth":5000,"maxHeight":5000,"nodeIndex":394,"autoFit":true,"exportBorder":false,"gridOn":true,"snapToGrid":true,"drawingGuidesOn":true,"pageBreaksOn":false,"printGridOn":false,"printPaper":"LETTER","printShrinkToFit":false,"printPortrait":true,"shapeStyles":{"com.gliffy.shape.basic.basic_v1.default":{"fill":"#FFFFFF","stroke":"#333333","strokeWidth":2},"com.gliffy.shape.flowchart.flowchart_v1.default":{"fill":"#FFFFFF","stroke":"#333333","strokeWidth":2}},"lineStyles":{"global":{"fill":"none","stroke":"#60327C","strokeWidth":2,"orthoMode":2,"dashStyle":"8.0,2.0","endArrow":1}},"textStyles":{},"themeData":{"uid":"com.gliffy.theme.eggplant_casserole","name":"Eggplant Casserole","shape":{"primary":{"strokeWidth":2,"strokeColor":"#60327C","fillColor":"#DFD7E5","gradient":false,"dropShadow":false,"opacity":1,"text":{"color":"#432657","bold":null,"italic":null,"underline":null}},"secondary":{"strokeWidth":2,"strokeColor":"#377c32","fillColor":"#D7E4D6","gradient":false,"dropShadow":false,"opacity":1,"text":{"color":"#235522","bold":null,"italic":null,"underline":null}},"tertiary":{"strokeWidth":2,"strokeColor":"#7c5d32","fillColor":"#E6DFD6","gradient":false,"dropShadow":false,"opacity":1,"text":{"color":"#3E2D17","bold":null,"italic":null,"underline":null}},"highlight":{"strokeWidth":2,"strokeColor":"#60327C","fillColor":"#60327C","gradient":false,"dropShadow":false,"opacity":1,"text":{"color":"#DFD7E5","bold":null,"italic":null,"underline":null}}},"line":{"strokeWidth":2,"strokeColor":"#60327C","fillColor":"none","arrowType":2,"interpolationType":"quadratic","cornerRadius":0,"text":{"color":"#432657","bold":null,"italic":null,"underline":null}},"text":{"color":"#432657","bold":null,"italic":null,"underline":null},"stage":{"color":null}}}}