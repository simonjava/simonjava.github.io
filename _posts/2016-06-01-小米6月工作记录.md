---
layout: post
category : android开发
tagline: "工作记录"
tags : [工作,android,记录]
---
{% include JB/setup %}

<h4>{{page.title}}</h4>

---

2016.06.01

application的largeHeap标签，在华为和小米手机上表现不一样

Fresco 的PostProcessor的bitmap默认的alpha通道是关的，有透明背景需求的要记得打开 `output.setHasAlpha(true)`

----

要显示二种不同的布局，一个是用TextView显示一段文字，另一个则是用ImageView显示一个图片。这二个是在onCreate()时决定是显示哪一个，这里就是应用ViewStub的最佳地点。


----

`netstat -npt` 可以看到网络层的buffer堵了多少。

-----

压测，登录服务器步骤

1. ssh chengsimin@relay.xiaomi.com
2. hd zc-g-op-build01.bj
3. su - orion
4. cd zhibo-msg/press_call
5. ./press_call.run   9 输入roomid
6. 


-----

好奇怪的问题，EventBus提示no subscriber，可是明明有。
妈的，原来跑到另外一个进程去了。

-----

查，android 性能分析优化工具

StrickMode

------

PagerAdapter 调用notifyDataSetChanged 但不刷新的解决方法
 @Override
    public int getItemPosition(Object object) {
        return POSITION_NONE;
    }

----

buildTypes `minifyEnabled true`

减小安卓包大小 tiny 微信开源压缩框架

------

html5防劫持 , 运营商 http 302 重定向。页面暂时转移

------

公共组件:移动MilinkAdapter、移动账户及他们的相关依赖到data层（2天）
代码规范制定:边走边做，在wiki上不断完善，大家有好的建议可以提出然后进wiki。
coverity和monkey跟踪: 过一遍converity。
strictmode+allocationtracing:性能优化

------

1.公共组件重构优化:重构优化MilinkAdpater、账户相关、将公共组件层次化;若干业务优化:充值相关使用mvp重构;
2.代码规范完善&代码质量把控，推动新进代码都使用mvp架构。
3.性能优化和monkey跟踪

------

